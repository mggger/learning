# 红黑树

红黑树是一个平衡的二分查找树具有下列的属性:

-  红色节点平衡条件:  每一个红色节点有一个黑色父亲

-  黑色节点平衡条件： root节点到null节点包含相等的黑色节点数目.

另外一种解释:

- 红链接均为左链接
- 没有任何一个节点同时和两条红链接相连; 


结论：

一个红黑树具有n个内部节点，它的高度最大为 ```2log(n+1)```,  所以它搜索的复杂度为O(log n) 

## 红黑树的插入



1. 检查是否树为空

2. 如果树为空， 则新建一个黑色的root节点

3. 重新着色: 如果节点p 的左, 右子树都是红色， 则将p设置为红色， 左右子树设置为黑色.

4. 如果树不为空， 插入新的叶子节点， 颜色为红色

   - 如果值大于当前节点(root)的值， 将这个新节点插入root右子树
   - 如果值小于当前节点(root)的值,    将这个新节点插入root左子树
   - 如果值等于当前节点(root)的值,     不做任何改变， 返回root节点的状态

   如果当前节点的右子树是红色的， 左子树是黑色的，进行左旋

   如果当前节点的左子树是红色的， 左子树的左子树是红色的， 进行右旋

   如果当前节点的左子树是红色的， 右子树是红色的， 则进行重新着色.



## 红黑树的删除

#### deleteMin

操作手段:  

1.  如果root节点是2-节点， 并且它的两个子节点都是2-节点， 将这三个节点合并成一个4-节点.

2.  否则需要保证根的左节点不是2- 节点,  如有必要可以从它右侧的兄弟节点借一个键来

   - 如果当前节点不是2-节点 完成

   - 如果当前节点是2-节点， 兄弟节点不是2-节点， 从兄弟节点借一个键值
   - 如果当前节点的左子节点和它的亲兄弟节点都是2-节点， 将左子节点，父节点中的最小键和左子节点最近的兄弟节点合并为一个4-节点， 使父节点由4-节点 -> 3-节点或者3-节点 -> 2-节点














#### 参考资料
[RBTree](https://www.geeksforgeeks.org/red-black-tree-set-2-insert/)

[red-black-trees](http://www.btechsmartclass.com/data_structures/red-black-trees.html)

[red_black](https://www.cs.auckland.ac.nz/software/AlgAnim/red_black.html)

[scala的红黑树实现](https://github.com/scala/scala/blob/2.13.x/src/library/scala/collection/immutable/RedBlackTree.scala)
